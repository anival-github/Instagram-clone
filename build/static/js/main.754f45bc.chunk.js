(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{28:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var r=n(0),s=n(1),c=n.n(s),a=n(21),o=n.n(a),i=(n(28),n(8)),u=n(11),l=n(13),j=n(12),h=n(6),f=n.n(h),d=n(9),b=function t(){var e=this;Object(i.a)(this,t),this.getResource=function(){var t=Object(d.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e._apiBase).concat(n));case 2:if((r=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(n,"; received ").concat(r.status));case 5:return t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getAllPosts=Object(d.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("/posts/");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),this.getAllPhotos=Object(d.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("/posts/");case 2:return n=t.sent,t.abrupt("return",n.map(e._transformPosts));case 4:case"end":return t.stop()}}),t)}))),this._transformPosts=function(t){return{src:t.src,alt:t.alt}},this._apiBase="http://localhost:3000"},p=function t(){var e=this;Object(i.a)(this,t),this.getResource=function(){var t=Object(d.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e._apiBase).concat(n));case 2:if((r=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(n,"; received ").concat(r.status));case 5:return t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getAllPosts=Object(d.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("/posts/");case 2:return n=t.sent,console.log(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),this._apiBase="https://rs-demo-be1.herokuapp.com"},x=function(t){var e=t.min,n=t.src,s=t.alt,c=t.name;return Object(r.jsxs)("a",{href:"#",className:e?"user min":"user",children:[Object(r.jsx)("img",{src:n,alt:s}),Object(r.jsx)("div",{children:c})]})},m=n.p+"static/media/error.787250b3.png",O=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("img",{src:m,alt:"error"})})},v=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).InstaService=new p,t.state={posts:[],error:!1},t.onPostsLoaded=function(e){t.setState({posts:e,error:!1}),console.log(t.state.posts)},t.onError=function(e){t.setState({error:!0}),console.log(e)},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updatePosts()}},{key:"updatePosts",value:function(){this.InstaService.getAllPosts().then(this.onPostsLoaded).catch(this.onError)}},{key:"renderItems",value:function(t){return t.map((function(t){var e=t.name,n=t.altname,s=t.photo,c=t.src,a=t.alt,o=t.descr,i=t.id;return Object(r.jsxs)("div",{className:"post",children:[Object(r.jsx)(x,{src:s,alt:n,name:e,min:!0}),Object(r.jsx)("img",{src:c,alt:a}),Object(r.jsx)("div",{className:"post__name",children:e}),Object(r.jsx)("div",{className:"post__descr",children:o})]},i)}))}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.posts;if(e)return Object(r.jsx)(O,{});var s=this.renderItems(n);return Object(r.jsx)("div",{className:"left",children:s})}}]),n}(s.Component);function g(){return Object(r.jsxs)("div",{className:"right",children:[Object(r.jsx)(x,{src:"https://images.unsplash.com/photo-1503443207922-dff7d543fd0e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWVufGVufDB8fDB8&ixlib=rb-1.2.1&w=1000&q=80",alt:"men",name:"Scott"}),Object(r.jsxs)("div",{className:"users__block",children:[Object(r.jsx)(x,{src:"https://images.unsplash.com/photo-1503443207922-dff7d543fd0e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWVufGVufDB8fDB8&ixlib=rb-1.2.1&w=1000&q=80",alt:"men",name:"Scott",min:!0}),Object(r.jsx)(x,{src:"https://images.unsplash.com/photo-1503443207922-dff7d543fd0e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWVufGVufDB8fDB8&ixlib=rb-1.2.1&w=1000&q=80",alt:"men",name:"Scott",min:!0}),Object(r.jsx)(x,{src:"https://images.unsplash.com/photo-1503443207922-dff7d543fd0e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWVufGVufDB8fDB8&ixlib=rb-1.2.1&w=1000&q=80",alt:"men",name:"Scott",min:!0}),Object(r.jsx)(x,{src:"https://images.unsplash.com/photo-1503443207922-dff7d543fd0e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWVufGVufDB8fDB8&ixlib=rb-1.2.1&w=1000&q=80",alt:"men",name:"Scott",min:!0})]})]})}function w(){return Object(r.jsxs)("div",{className:"container feed",children:[Object(r.jsx)(v,{}),Object(r.jsx)(g,{})]})}var M=n.p+"static/media/logo.82129eec.svg",k=n(14),B=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("header",{children:Object(r.jsxs)("div",{className:"container h-flex",children:[Object(r.jsx)(k.b,{to:"/",className:"logo",children:Object(r.jsx)("img",{src:M,alt:"logo"})}),Object(r.jsx)("nav",{className:"links",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(k.b,{to:"/",className:"menu__links",children:"\u041b\u0435\u043d\u0442\u0430"})}),Object(r.jsx)("li",{children:Object(r.jsx)(k.b,{to:"/profile/",className:"menu__links",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})]})})]})})}}]),n}(s.Component),y=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).InstaService=new b,t.state={error:!1,photos:[],loading:!0},t.onError=function(){t.setState({error:!0})},t.onPhotosLoaded=function(e){t.setState({error:!1,photos:e,loading:!1})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updatePhotos()}},{key:"updatePhotos",value:function(){this.InstaService.getAllPhotos().then(this.onPhotosLoaded).catch(this.onError)}},{key:"renderItems",value:function(t){return t.map((function(t){var e=t.src,n=t.alt;return Object(r.jsx)("img",{src:e,alt:n})}))}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.photos,s=t.loading;if(e)return Object(r.jsx)(O,{});if(s)return Object(r.jsxs)("div",{className:"lds-facebook",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]});var c=this.renderItems(n);return Object(r.jsx)("div",{className:"palette",children:c})}}]),n}(s.Component),D=function(){return Object(r.jsxs)("div",{className:"container profile",children:[Object(r.jsx)(x,{src:"https://images.unsplash.com/photo-1503443207922-dff7d543fd0e?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWVufGVufDB8fDB8&ixlib=rb-1.2.1&w=1000&q=80",alt:"men",name:"Scott"}),Object(r.jsx)(y,{})]})},N=n(2);var P=function(){return Object(r.jsx)(k.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(B,{}),Object(r.jsx)(N.a,{path:"/",component:w,exact:!0}),Object(r.jsx)(N.a,{path:"/profile",component:D,exact:!0})]})})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(e){var n=e.getCLS,r=e.getFID,s=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),r(t),s(t),c(t),a(t)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(P,{})}),document.getElementById("root")),S()}},[[35,1,2]]]);
//# sourceMappingURL=main.754f45bc.chunk.js.map